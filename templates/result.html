{% extends "base.html" %} {% block content %}
<link rel="stylesheet" type="text/css" href="../static/css/main.css" />
<script src="../static/js/script.js"></script>
<body>

  <a href="/">Back to Home Page</a>
  <br>
  <br>
  <br>
  {% if node_branch_data %}
  <!-- Button needed to execute function that will adjust the <svg> element's size to that of the graph div -->
  <button onclick="svgSizer();">Calibrate Black Div</button>
  <div id="graph" onload="svgSizer();">
    <svg id="svg-canvas"></svg>
    {% for commit in node_branch_data.keys() %}
    <div class="commit">
      {% for i in range (0, branch_names.index(node_branch_data[commit][0][0])) %}
      <div class="spacer"></div>
      {% endfor %}
      <div class="commit-node-edge">
        {% if commit!=first_commit %}
        <div class="edge-container">
          <div class="edge"></div>
          {% for branch_name in node_branch_data[commit][0] %}
          <span>&nbsp;{{branch_name}},&nbsp;</span>
          {% endfor %}
        </div>
        {% endif %}
        <div class="commit-node-container">
          <div onmouseenter="hoverShow(this.id)" onmouseleave="hoverHide(this.id)" class="commit-circle" id="{{commit}}" name="{{node_children_data[commit]}}" onmouseover="createLines(this.id)">{{commit[0:7]}}</div>
          <div class="node-info" id="node-info-{{commit}}">Message: {{node_message_data[commit]}}</div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  {% endif %} {% if not node_branch_data %}
  <p>Repository not found. Make sure:</p>
  <ul>
    <li>Make sure that you typed the repository name correctly.</li>
    <li>That the repository name is entered in the correct case.</li>
  </ul>
  <p>
    Note: If the repository is private, make sure it belongs to the account you
    OAuth'ed with.
  </p>
  {% endif %}
</body>
{% endblock %}
